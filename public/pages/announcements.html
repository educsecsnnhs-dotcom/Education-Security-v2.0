<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸ“¢ Announcements</title>
  <link rel="stylesheet" href="/styles.css">
  <script defer src="../js/auth.js"></script>
  <script defer src="../js/announcements.js"></script>
</head>
<body>
  <header>
    <button onclick="window.location.href='../welcome.html'">â¬… Back</button>
    <h1>ðŸ“¢ Announcements</h1>
    <button id="logoutBtn" class="logout">Logout</button>
  </header>

  <main>
    <!-- Tabs -->
    <nav class="tabs">
      <button class="tab active" data-tab="school">School-wide</button>
      <button class="tab" data-tab="department">Department</button>
      <button class="tab" data-tab="section">Section</button>
    </nav>

    <!-- Post button (hidden unless authorized) -->
    <div id="postArea">
      <button id="newAnnouncementBtn" style="display:none;">âž• New Announcement</button>
    </div>

    <!-- Announcement containers -->
    <section id="school" class="tab-content active"></section>
    <section id="department" class="tab-content"></section>
    <section id="section" class="tab-content"></section>
  </main>

  <!-- Modal for posting -->
  <div id="announcementModal" class="modal hidden">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Create Announcement</h2>
      <form id="announcementForm">
        <label>Title</label>
        <input type="text" id="title" required>

        <label>Content</label>
        <textarea id="content" rows="5" required></textarea>

        <label>Image (optional)</label>
        <input type="file" id="image">

        <label>Scope</label>
        <select id="scope">
          <option value="school">School-wide</option>
          <option value="department">Department</option>
          <option value="section">Section</option>
        </select>

        <label id="targetLabel" style="display:none;">Target</label>
        <input type="text" id="target" placeholder="e.g., STEM / 11-STEM-A" style="display:none;">

        <button type="submit">Post</button>
      </form>
    </div>
  </div>
</body>
</html>
